{"version":3,"sources":["utils/startRoadWarriorApiCall.js","App.js","serviceWorker.js","index.js","breadbike_logo_final.png"],"names":["startRoadWarriorApiCall","dataArray","setResponse","a","data","forEach","d","route","includes","push","responses","name","getMonthDayDate","uploadDataToApi","res","console","log","error","prettifyRoadWarriorData","roadWarriorData","itemsByType","itemCountsDescription","sortBy","toPairs","type","typeLower","toLowerCase","quantity","process","myHeaders","Headers","append","raw","JSON","stringify","requestOptions","method","headers","body","redirect","fetch","then","response","result","text","status","statusText","success","catch","itemMap","flatMap","address","city","firstName","lastName","primaryPhone","secondaryPhone","state","zipCode","orderDescription","Object","keys","key","startsWith","item","index","Number","replace","trim","itemType","pickupSiteInstructions","Name","Address","Phone","Note","e","date","Date","toLocaleString","month","getDate","App","useState","working","setworking","className","width","height","alt","src","logo","onChange","event","fileList","document","querySelector","files","i","Papa","parse","header","transformHeader","camelCase","complete","results","class","length","map","info","style","color","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message","module","exports"],"mappings":"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","file":"static/js/main.4a720f8d.chunk.js","sourcesContent":["import { toPairs } from \"lodash\";\nimport { sortBy } from \"lodash\";\nimport { flatMap, forEach } from \"lodash\";\n// import parseAddress from \"parse-address\";\nconst debug = false;\nexport async function startRoadWarriorApiCall(dataArray, setResponse) {\n  try {\n    //the new way where there is just one route:\n    const data = [];\n    dataArray.forEach((d) => {\n      const { route } = d;\n      if (!route) return debug && console.log(\"No route found for data: \", d);\n      //if it doesn't have the words \"home delivery\" in the route name, we won't include it\n      if (route.includes(\"Home Delivery -\")) {\n        data.push(d);\n      }\n    });\n    const responses = [];\n    const name =\n      ((data[0][\"deliveryDate\"] && getMonthDayDate(data[0][\"deliveryDate\"])) ||\n        \"\") + \" deliveries\";\n    const res = await uploadDataToApi({\n      data,\n      name,\n    });\n    responses.push(res);\n\n    //the old way where there were multiple different\n    // const spreadsheetsByRoute = {};\n    // debug && console.log(`dataArray:`, dataArray);\n    // dataArray.forEach((d) => {\n    //   const { route } = d;\n    //   if (!route) return debug && console.log(\"No route found for data: \", d);\n    //   if (!spreadsheetsByRoute[route]) spreadsheetsByRoute[route] = [];\n    //   spreadsheetsByRoute[route].push(d);\n    // });\n    // const responses = [];\n    // for (const key of Object.keys(spreadsheetsByRoute)) {\n    //   const data = spreadsheetsByRoute[key];\n\n    //   if (!key || !key.toLowerCase)\n    //     return console.log(\"No key found for data: \", data);\n    //   if (key.includes(\"Home Delivery -\")) {\n    //     //if it doesn't have the words \"home delivery\" in the route name, we won't include it\n\n    //     const res = await uploadDataToApi({\n    //       data,\n    //       name: key.replace(\n    //         \"Home Delivery -\",\n    //         (data[0][\"deliveryDate\"] &&\n    //           getMonthDayDate(data[0][\"deliveryDate\"])) ||\n    //           \"\"\n    //       ),\n    //     });\n\n    //     responses.push(res);\n    //   }\n    // }\n    return responses;\n  } catch (error) {\n    console.log(`Upload failed error:`, error);\n    return {\n      error:\n        \"The upload failed for some reason. Check the console for more info!\",\n    };\n  }\n}\n\nasync function uploadDataToApi({ data, name, setResponse }) {\n  //we first need to prettify this data to get it ready for the roadwarrior api\n  const { roadWarriorData, itemsByType } = prettifyRoadWarriorData(data);\n  let itemCountsDescription = \"\";\n  forEach(\n    // sort loaves/baguettes to the front\n    sortBy(toPairs(itemsByType), ([type, quantity]) => {\n      const typeLower = type.toLowerCase();\n      return typeLower.includes(\"seeded loaf\")\n        ? -80\n        : typeLower.includes(\"ca loaf\")\n        ? -70\n        : typeLower.includes(\"olive + herbs loaf\")\n        ? -60\n        : typeLower.includes(\"loaf\")\n        ? -50\n        : typeLower.includes(\"baguette\")\n        ? -40\n        : typeLower.includes(\"pretzel\")\n        ? -30\n        : typeLower.includes(\"scone\")\n        ? -20\n        : typeLower.includes(\"cookie\")\n        ? -10\n        : typeLower.includes(\"coffee\")\n        ? -0\n        : typeLower.includes(\"fromage blanc\")\n        ? 10\n        : 20;\n    }),\n    ([type, quantity]) => {\n      itemCountsDescription += `${quantity} ${type}, `;\n    }\n  );\n  const isLocal = process.env.NODE_ENV !== \"production\";\n\n  const azureUrl = isLocal\n    ? \"http://localhost:7071/api/HttpTrigger1\"\n    : \"https://tnrich-breadbike.azurewebsites.net/api/HttpTrigger1?code=mZhkt5Td4MFZG0fEtq5PdN4NJWI3UbgSLL6kh9h9BpKAYdzl24MakA%3D%3D\";\n\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  var raw = JSON.stringify({\n    name,\n    roadWarriorData,\n    itemCountsDescription,\n  });\n  var requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\",\n  };\n  //hit the azure serverless function where we'll do additional google maps api calls for each roadwarrior\n  return await fetch(azureUrl, requestOptions)\n    .then((response) => {\n      console.log(`response:`, response);\n      const result = response.text();\n      if (response.status !== 202) {\n        console.log(`error uploading. got a result.error!:`, result.statusText);\n        return {\n          success: false,\n          name,\n          error: result.statusText,\n        };\n      } else {\n        return { success: true, name, result };\n      }\n    })\n\n    .catch((error) => {\n      console.log(`error uploading!:`, error);\n      return {\n        success: false,\n        name,\n        error,\n      };\n    });\n}\n\nconst itemMap = {\n  \"Baker's Choice Rustic Loaf\": \"Rustic\",\n  \"Baker's Choice Pan Loaf\": \"Pan\",\n  \"Cacti Coffee Whole Bean Specialty Coffee\": \"Cacti Coffee\",\n  \"The Rye Loaf\": \"Rye\",\n  \"Chocolate Chip Cookie\": \"Chocolate Chip (2 per bag) Cookie\",\n  \"Leigh's Bakeshop Dark Chocolate Chunk Cookies\": \"DCC Cookies\",\n  \"Leigh's Bakeshop Brownie Batter Cookies\": \"BB Cookies\",\n  \"California Country Loaf\": \"CA Loaf\",\n  \"Special Baguette Of The Week\": \"Sp Baguette\",\n  \"Stepladder Creamery Marinated Fromage Blanc\": \"Fromage Blanc\",\n};\n\nfunction prettifyRoadWarriorData(data) {\n  const itemsByType = {};\n  const roadWarriorData = flatMap(data, (d) => {\n    try {\n      const {\n        address,\n        city,\n        firstName,\n        lastName,\n        primaryPhone,\n        secondaryPhone,\n        state,\n        zipCode,\n      } = d;\n      debug && console.log(`address:`, address);\n      let orderDescription = \"\";\n\n      let quantity;\n\n      Object.keys(d).forEach((key) => {\n        if (key.startsWith(\"noHeader__\")) {\n          const item = d[key];\n          if (item) {\n            const index = Number(key.replace(\"noHeader__\", \"\").trim());\n            if (index % 3 === 0) {\n              quantity = item || \"\";\n            }\n            //skip index % 3  === 1 because that is the \"unit\" we don't need\n            if (index % 3 === 2) {\n              if (item.includes(\"Biker's Tip\")) {\n                return;\n              }\n\n              const itemType = (\n                itemMap[item] ||\n                item\n                  .replace(\"Stepladder Creamery\", \"\")\n                  .replace(\"Leigh's Bakeshop\", \"\")\n              ).trim();\n              itemsByType[itemType] =\n                Number(itemsByType[itemType] || 0) + Number(quantity);\n              orderDescription += quantity + \" \" + itemType + \" \";\n            }\n          }\n        }\n      });\n      debug && console.log(`orderDescription:`, orderDescription);\n      if (!orderDescription) {\n        console.error(\n          \"This customer didn't order anything (maybe they only added a tip)\"\n        );\n        return [];\n      }\n      orderDescription += d.pickupSiteInstructions\n        ? `\n${d.pickupSiteInstructions}\n      `\n        : \"\";\n      return {\n        Name: firstName + \" \" + lastName,\n        Address: `${address} ${city} ${state} ${zipCode}`,\n        Phone: primaryPhone || secondaryPhone,\n        Note: orderDescription,\n      };\n    } catch (e) {\n      console.log(`couldn't prettify :`, d);\n      return [];\n    }\n  });\n  return {\n    itemsByType,\n    roadWarriorData,\n  };\n}\n\n// \"\": \"\"\n// address: \"1512 Morro Street\"\n// city: \"San Luis Obispo\"\n// comments: \"\"\n// deliveryDate: \"Thursday, May 28, 2020\"\n// firstName: \"Torrey\"\n// lastName: \"Sanseverino\"\n// location: \"Home Delivery - Torrey Sanseverino\"\n// modified: \"No\"\n// primaryPhone: \"(858) 722 3003\"\n// route: \"Home Delivery - Downtown (South of Marsh)\"\n// secondaryPhone: \"\"\n// state: \"CA\"\n// zipCode: \"93401\"\n\n// Change \"Baker's Choice Rustic Loaf\" to \"Rustic\",\n// Change \"Baker's Choice Pan Loaf\" to \"Pan\",\n// change \"The Rye Loaf\" to \"Rye\",\n// Remove \"Stepladder Creamery\" from both cheese names,\n// Remove \"Leigh's Bakeshop\" from both cookie names.\n// Do not include any \"Biker's Tip\" orders.\n// Do not include the \"units\".\n// So an order (as read in a distribution row) for\n// \" 1 | loaf | Baker's Choice Rustic Loaf | 2 | 2.0 Cookie(s) | Leigh's Bakeshop Dark Chocolate Chunk Cookie | 1 | Jar | Stepladder Creamery Marinated Fromage Blanc | 1 | share | Biker's Tip\"\n// would read in the note as\n// \"1 Rustic, 2 Dark Chocolate Chunk Cookie, 1 Marinated Fromage Blanc\"\n\nfunction getMonthDayDate(d) {\n  const date = new Date(d);\n  return (\n    date.toLocaleString(\"default\", { month: \"long\" }) +\n    \" \" +\n    (date.getDate() > 9 ? date.getDate() : \"0\" + date.getDate())\n  );\n}\n","import React, { useState } from \"react\";\nimport Papa from \"papaparse\";\nimport \"./App.css\";\nimport { startRoadWarriorApiCall } from \"./utils/startRoadWarriorApiCall\";\nimport { camelCase } from \"lodash\";\nimport logo from \"./breadbike_logo_final.png\";\nconst debug = true;\nfunction App() {\n  const [working, setworking] = useState(false);\n  const [responses, setResponse] = useState([]);\n  // const [responseFailure, setResponseFailure] = useState()\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img width={200} height={200} alt=\"breadbike logo\" src={logo}></img>\n        <h3>Weclome to the breadbike route planner -- version 1.4</h3>\n        <h5>Drag today's distribution.csv report from farmigo here: </h5>\n\n        <br></br>\n        <input\n          className={\"fileInput\"}\n          onChange={function (event) {\n            var fileList = document.querySelector(\".fileInput\").files;\n            debug && console.log(`fileList:`, fileList);\n            let i = 0;\n            Papa.parse(fileList[0], {\n              header: true,\n              transformHeader: (header) => {\n                debug && console.log(`header:`, header);\n                return header ? camelCase(header) : `noHeader__${i++}`;\n              },\n              complete: async function (results) {\n                debug && console.log(\"Finished:\", results.data);\n                setworking(true);\n                const responses = await startRoadWarriorApiCall(results.data);\n                setResponse(responses);\n                setworking(false);\n              },\n            });\n          }}\n          type=\"file\"\n        ></input>\n\n        <br></br>\n        {working && <div class=\"loader\"></div>}\n        {!!responses.length && <h3>Results:</h3>}\n        {responses.map(({ name, success, error, result }, i) => {\n          console.info(\"name\", name);\n          console.info(\"success\", success);\n          console.info(\"error\", error);\n          console.info(\"result\", result);\n          return (\n            <div key={i}>\n              {name} &nbsp;&nbsp;{\" \"}\n              <span style={{ color: success ? \"inherit\" : \"red\" }}>\n                Upload Success: {!!success + \"\"}\n              </span>{\" \"}\n              <br></br>\n              {error\n                ? typeof error === \"string\"\n                  ? error\n                  : JSON.stringify(error, null, 2)\n                : success\n                ? \"\"\n                : \"Undetermined error, check the logs\"}{\" \"}\n              {result && JSON.stringify(result, null, 2)}\n              <br></br>\n              <br></br>\n            </div>\n          );\n        })}\n\n        <div>Refresh the page to upload new csvs </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/breadbike_logo_final.a56f368b.png\";"],"sourceRoot":""}